<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    <title>Recon</title>
    <script src="js/script.js" defer></script> <!-- Vincula o arquivo JavaScript -->
    <link rel="stylesheet" href="css/styles.css"> <!-- Vincula o arquivo CSS -->  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>    
    <div id="content">
    <header>
        <div class="header-content">
            <img src="brasao_es.png" alt="Brasão do Espírito Santo" class="brasao">
            <div class="header-text">
                <p><strong>GOVERNO DO ESTADO DO ESPÍRITO SANTO<br>
                        SECRETARIA DA CASA MILITAR<br>
                        NÚCLEO DE OPERAÇÕES ESPECIAIS</strong></p>
                <p>RECON Nº: <input type="text" maxlength="10" style="max-width: 100px;"></p>
            </div>
        </div>
    </header>

    <main>
        <strong>
            <p>INFORMATIVO DE VIAGEM AO MUNICÍPIO DE <select id="municipios">
                    <option value="">Carregando municípios...</option>
                </select><br>

                <strong>
                    <p><input type="text" placeholder="Informativo da agenda"></p>
                </strong>

                <strong>
                    <p>AGENDA ANTERIOR NO MUNICÍPIO.<BR>
                        <input type="text" placeholder="Resumo da agenda">
                    </p>
                </strong><br>

                <!-- Tabela de contatos-->
            <div>
                <p><strong>CONTATOS TELEFÔNICOS:</strong></p>
                <table id="contatos-table">
                    <thead>
                        <tr>
                            <th>Nº</th>
                            <th>CARGO</th>
                            <th>NOME</th>
                            <th>TELEFONE</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Linhas da tabela podem ser adicionadas dinamicamente aqui -->
                    </tbody>
                </table>
                <button id="add-contato" class="add-btn">Adicionar Contato</button>
            </div><br>

            <!-- Tabela de Militares -->
            <div>
                <strong>
                    <p>CONTATOS DA ORGANIZAÇÃO POLICIAL MILITAR:</p>
                </strong>
                <table id="militares-table">
                    <thead>
                        <tr>
                            <th>Nº</th>
                            <th>POSTO/GRADUAÇÃO</th>
                            <th>NOME</th>
                            <th>FUNÇÃO</th>
                            <th>TELEFONE</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- Linhas da tabela podem ser adicionadas dinamicamente aqui -->
                    </tbody>
                </table>
                <button id="addmilitar" class="add-btn">Adicionar Militar</button>
            </div><br>

            <!-- Tabela com a programação da agenda-->
            <div>
                <strong>
                    <p>PROGRAMAÇÃO:</p>
                </strong>
                <table id="atividades-table">
                    <thead>
                        <tr>
                            <th>Horário</th>
                            <th>Atividade</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- Linha inicial será adicionada dinamicamente -->
                    </tbody>
                </table><br>
                <button class="add-btn" id="add-atividade">Adicionar Atividade</button>
            </div><br>

            <!-- Dados da Comitiva -->
            <div>
                <strong>
                    <p>COMITIVA</p>
                </strong>
                <table id="viagem-table">
                    <thead>
                        <tr>
                            <th colspan="3">DATA</th>
                            <td colspan="2"><input type="text" name="data" placeholder="Informe a data"></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th colspan="3">HORÁRIO</th>
                            <td>Embarque</td>
                            <td><input type="text" name="horario_embarque" placeholder="Horário de embarque"></td>
                            <td>Desembarque de retorno</td>
                            <td><input type="text" name="horario_desembarque" placeholder="Horário de desembarque"></td>
                        </tr>
                        <tr>
                            <td colspan="7" style="text-align: center;">
                                <strong>DESTINOS</strong> <input type="text"
                                    style="width: calc(100% - 100px); margin-left: 10px;"
                                    placeholder="Ex: Residência Oficial da Praia da Costa x Anchieta">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <table id="myTable">
                    <thead>
                        <tr>
                            <th>Nº</th>
                            <th>Integrante</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- Linhas da tabela podem ser adicionadas dinamicamente aqui -->
                    </tbody>
                </table>
                <button id="addIntegrante" class="add-btn">Adicionar Integrante</button>
            </div><br>

            <!--DADOS DA SEGURANÇA-->
            <div>
                <strong>
                    <p>DADOS DA SEGURANÇA:</p>
                </strong>
                <strong>
                    <p>DISTÂNCIAS:</p>
                </strong>
                <table id="deslocamentos-table">
                    <thead>
                        <tr>
                            <th>PARTIDA</th>
                            <th>DESTINO</th>
                            <th>DISTÂNCIA</th>
                            <th>TEMPO DE VIAGEM</th>
                            <th>AÇÕES</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!-- Linhas da tabela podem ser adicionadas dinamicamente aqui -->
                    </tbody>
                </table>
                <button id="add-deslocamento" class="add-btn">Adicionar Deslocamento</button>
            </div><br>

            <!-- DADOS DO LOCAL DO EVENTO -->
            <strong>
                <p>DADOS DO LOCAL DO EVENTO</p>
            </strong>
            <table id="localdoevento-table">
                <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>Informação</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Estacionamento:</td>
                        <td><input type="text" placeholder="Informe sobre estacionamento"></td>
                    </tr>
                    <tr>
                        <td>Palanque:</td>
                        <td><input type="text" placeholder="Informe sobre palanque"></td>
                    </tr>
                    <tr>
                        <td>Tenda:</td>
                        <td><input type="text" placeholder="Informe sobre tenda"></td>
                    </tr>
                    <tr>
                        <td>Elevador:</td>
                        <td><input type="text" placeholder="Informe sobre elevador"></td>
                    </tr>
                    <tr>
                        <td>Hospital:</td>
                        <td><input type="text" placeholder="Informe sobre hospital"></td>
                    </tr>
                    <tr>
                        <td>Postos de Abastecimento:</td>
                        <td><input type="text" placeholder="Informe sobre postos de abastecimento"></td>
                    </tr>
                    <tr>
                        <td>Movimentações Adversas:</td>
                        <td><input type="text" placeholder="Informe sobre movimentações adversas"></td>
                    </tr>
                    <tr>
                        <td>Previsão de Público:</td>
                        <td><input type="text" placeholder="Informe a previsão de público"></td>
                    </tr>
                    <tr>
                        <td>Sinal de Telefonia:</td>
                        <td><input type="text" placeholder="Informe sobre sinal de telefonia"></td>
                    </tr>
                </tbody>
            </table><br>

            <!--DADOS DO CERIMONIAL-->
            <strong>
                <p>DADOS DO CERIMONIAL:</p>
            </strong>
            <table id="cerimonial-table">
                <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>Informação</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sonorização:</td>
                        <td><input type="text" placeholder="Digite a informação sobre sonorização"></td>
                    </tr>
                    <tr>
                        <td>Autoridades Convidadas:</td>
                        <td><input type="text" placeholder="Digite a informação sobre autoridades convidadas"></td>
                    </tr>
                    <tr>
                        <td>Mestre de Ceromônia:</td>
                        <td><input type="text" placeholder="Digite a informação sobre o mestre de cerimônia"></td>
                    </tr>
                </tbody>
            </table><br>

            <!--DADOS DO DESLOCAMENTO AÉREO-->
            <div>
                <strong>
                    <p>DADOS DO DESLOCAMENTO AÉREO:</p>
                </strong>
                <table id="voo-table">
                    <thead>
                        <tr>
                            <th>DISTÂNCIA</th>
                            <th>TEMPO DE VOO</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" placeholder="Informe os Municípios"></td>
                            <td><input type="text" placeholder="Informe o tempo de voo"></td>
                            <td><button class="remove-btn" onclick="removerLinhaVoo(this)">Remover</button></td>
                        </tr>
                    </tbody>
                </table>
                <button id="add-voo" class="add-btn">Adicionar Voo</button>
            </div><br>

            <!-- DADO DO LOCAL DO POUSO-->
            <div id="pouso-sections-container">
                <div class="pouso-section" data-section-number="11">
                    <!-- TABELA DOS DADOS DO LOCAL DO POUSO -->
                    <strong>
                        <p>DADOS DO LOCAL DO POUSO 1 <td><input type="text" placeholder="Informe o local do pouso">
                            </td>
                        </p>
                    </strong>
                    <table>
                        <thead>
                            <tr>
                                <th>Informações</th>
                                <th>Entradas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Local de Pouso:</td>
                                <td><input type="text" placeholder="Informe o local de pouso"></td>
                            </tr>
                            <tr>
                                <td>Tipo de Piso:</td>
                                <td><input type="text" placeholder="Informe o tipo de piso"></td>
                            </tr>
                            <tr>
                                <td>Isolamento:</td>
                                <td><input type="text" placeholder="Informe se tem isolamento"></td>
                            </tr>
                            <tr>
                                <td>Local Iluminado:</td>
                                <td><input type="text" placeholder="Informe se o local é iluminado"></td>
                            </tr>
                            <tr>
                                <td>Obstáculos:</td>
                                <td><input type="text" placeholder="Informe os obstáculos"></td>
                            </tr>
                            <tr>
                                <td>Local para Abastecimento:</td>
                                <td><input type="text" placeholder="Informe se tem local para abastecimento"></td>
                            </tr>
                            <tr>
                                <td>Responsável pelo Local:</td>
                                <td><input type="text" placeholder="Informe o nome e contato do responsável pelo local">
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- DADOS DO LOCAL DE POUSO -->
                    <strong>
                        <p>COORDENADAS DO LOCAL DE POUSO 1 <td><input type="text"
                                    placeholder="Informe o local do pouso"></td>
                        </p>
                    </strong>
                    <table border="1">
                        <tbody>
                            <tr class="red-text">
                                <td style="width: 10%;"><input type="text" style="width: 100%;"
                                        placeholder="Digite aqui..."></td>
                                <td style="width: 40%;"><input type="text" style="width: 100%;"
                                        placeholder="Informe a latitude"></td>
                                <td style="width: 10%;"><input type="text" style="width: 100%;"
                                        placeholder="Digite aqui..."></td>
                                <td style="width: 40%;"><input type="text" style="width: 100%;"
                                        placeholder="Informe a longitude"></td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                    <input type="text" style="width: 100%;" placeholder="Informe o link da coordenada">
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- FOTOGRAFIAS DO LOCAL DE POUSO -->
                    <strong>
                        <p>FOTOGRAFIAS DO LOCAL DO POUSO 1</p>
                    </strong>
                    <form id="uploadForm" enctype="multipart/form-data">
                        <input type="file" id="fileInput1" name="fileInput" accept="image/*">
                        <input type="file" id="fileInput2" name="fileInput" accept="image/*">
                        <input type="file" id="fileInput3" name="fileInput" accept="image/*">
                        <button type="submit" class="add-btn">Enviar Fotos</button>
                    </form>

                    <div class="image-container">
                        <div id="imagePreview1" class="image-preview">
                            <img id="previewImage1" src="#" alt="Imagem 1">
                        </div>
                        <div id="imagePreview2" class="image-preview">
                            <img id="previewImage2" src="#" alt="Imagem 2">
                        </div>
                        <div id="imagePreview3" class="image-preview">
                            <img id="previewImage3" src="#" alt="Imagem 3">
                        </div>
                    </div>
                </div>
            </div>
            <div id="pouso-sections-container">
                <!-- Aqui será adicionado dinamicamente o conteúdo -->
            </div>
            <div id="pouso-sections-container">
                <!-- Aqui será adicionado dinamicamente o conteúdo -->
            </div>
            <button id="addLocalBtn" class="add-btn">Adicionar local de pouso</button><br>

            <!--Ára de segurança do helicóptero imagem-->
            <br><strong>
                <p>ÁREA DE SEGURANÇA DO HELICÓPTERO</p>
            </strong>
            <img src="area_segura_pouso.png" alt="Área de segurança do helicópetero" class="area_segura"><br>

            <br><br><strong>
                <p>INFORMAÇÕES DA POLÍTICA DO MUNICÍPIO DE <select id="municipios2">
                        <option value="">Carregando municípios...</option>
                </p>
                </select><br>
            </strong>
            <strong>
                <input type="text"
                    placeholder="Ex: O Prefeito Fulano de Tal (Partido) foi eleito no último pleito, com 55,97% dos votos, total de 9.668 dos votos válidos">
            </strong><br>

            <!-- TABELA COM AS EUIPES DE SERVIÇO-->
            <br><br> <strong>
                <p>EQUIPES DE SERVIÇO</p>
            </strong>
            <table>
                <thead>
                    <tr>
                        <th>Vitória</th>
                        <th>Celular</th>
                        <th><select id="municipios3"></th>
                        <th>Celular</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <!-- Linha em branco para separação -->
                    <tr>
                        <td colspan="4">&nbsp;</td>
                    </tr>
                    <!-- Novo bloco de tabela -->
                    <tr>
                        <td colspan="2">Equipe de RPA</td>
                        <td colspan="2">NOE</td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                    <tr>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                        <td><input type="text" placeholder="Militar"></td>
                        <td><input type="text" placeholder="Celular"></td>
                    </tr>
                </tbody>
            </table><br>

            <!--Input para observações-->
            <strong>
                <p>OBSERVAÇÔES:<input type="text" placeholder="Descrever as observações."></p>
            </strong><br>
            <br>
            <strong>
                <p>DEVOLUÇÃO DOS VEÍCULOS: CONSULTAR O NÚCLEO DE OPERAÇÕES ESPECIAIS - NOE.</p>
            </strong><BR>
            <strong>
                <p>ELABORAÇÃO: <input type="text" placeholder="Responsável pelo Recon" maxlength="30"
                        style="max-width: 200px;"></p>
            </strong><br>
    </main>
    <footer>
        <br><strong>
            <p>ROMMEL FIORENTINI DE REZENDE – TENENTE CORONEL PM<br>
                CHEFE DO NOE DA CASA MILITAR</p>
        </strong>
    </footer>
    </div>
    <br><button id="downloadpdf" class="add-btn">Fazer download do Recon</button><br><br><br>
    <script>
        // JS para gerar PDF
        document.getElementById('downloadpdf').addEventListener('click', function() {
            var content = document.getElementById('content');
            
            // Remover os botões antes de capturar a tela
            var buttons = content.querySelectorAll('button');
            buttons.forEach(function(button) {
                button.style.display = 'none';
            });
            
            // Usar html2canvas para capturar o conteúdo
            html2canvas(content).then(canvas => {
                // Restaurar a exibição dos botões
                buttons.forEach(function(button) {
                    button.style.display = '';
                });
                
                var imgData = canvas.toDataURL('image/png');
                var pdf = new jspdf.jsPDF('p', 'mm', 'a4');
                
                // Ajustar o tamanho da imagem para caber na página do PDF
                var imgWidth = 200; // Largura A4 em mm
                var pageHeight = 295;  // Altura A4 em mm
                var imgHeight = canvas.height * imgWidth / canvas.width;
                var heightLeft = imgHeight;
                var positionY = 0; // Posição inicial no eixo Y
                var positionX = (pdf.internal.pageSize.getWidth() - imgWidth) / 2; // Centralizando no eixo X
                
                pdf.addImage(imgData, 'PNG', positionX, positionY, imgWidth, imgHeight);
                heightLeft -= pageHeight;
                
                while (heightLeft >= 0) {
                    positionY = heightLeft - imgHeight;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', positionX, positionY, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }
                
                pdf.save('Recon.pdf');
            });
        });
        
        
        
        
        
        
        
        // JS DA TABELA DA ORGANIZAÇÃO MILITAR
        document.addEventListener('DOMContentLoaded', function () {
            // Função para adicionar uma linha na tabela de militares
            function adicionarMilitar() {
                var table = document.getElementById('militares-table').getElementsByTagName('tbody')[0];
                var newRow = table.insertRow();
        
                // Colunas da nova linha
                var cellNum = newRow.insertCell(0);
                var cellPosto = newRow.insertCell(1);
                var cellNome = newRow.insertCell(2);
                var cellFuncao = newRow.insertCell(3);
                var cellTelefone = newRow.insertCell(4);
                var cellRemover = newRow.insertCell(5); // Coluna para botão de remover
        
                // Conteúdo das colunas
                cellNum.textContent = table.rows.length; // Número de linhas
                cellPosto.innerHTML = '<input type="text" name="posto[]" placeholder="Ex: Capitão">';
                cellNome.innerHTML = '<input type="text" name="nome[]" placeholder="Ex: João da Silva">';
                cellFuncao.innerHTML = '<input type="text" name="funcao[]" placeholder="Ex: Comandante da 3ªCIA">';
                cellTelefone.innerHTML = '<input type="text" name="telefone[]" placeholder="Ex: (99) 9999-9999">';
                cellRemover.innerHTML = '<button class="remove-btn">Remover</button>'; // Botão de remover
        
                // Adicionar evento de clique para remover linha
                cellRemover.querySelector('.remove-btn').addEventListener('click', function () {
                    var rowIndex = newRow.rowIndex; // Índice da linha que será removida
        
                    // Remover a linha da tabela
                    table.deleteRow(rowIndex);
        
                    // Atualizar números das linhas restantes
                    for (var i = rowIndex; i < table.rows.length; i++) {
                        table.rows[i].cells[0].textContent = i + 1; // Atualiza o número da linha
                    }
                });
            }
        
            // Função para adicionar linha inicial na tabela de militares
            function adicionarLinhaInicial() {
                var table = document.getElementById('militares-table').getElementsByTagName('tbody')[0];
                var newRow = table.insertRow();
        
                // Colunas da linha inicial
                var cellNum = newRow.insertCell(0);
                var cellPosto = newRow.insertCell(1);
                var cellNome = newRow.insertCell(2);
                var cellFuncao = newRow.insertCell(3);
                var cellTelefone = newRow.insertCell(4);
                var cellRemover = newRow.insertCell(5); // Coluna para botão de remover
        
                // Conteúdo das colunas da linha inicial
                cellNum.textContent = table.rows.length; // Número de linhas
                cellPosto.innerHTML = '<input type="text" name="posto[]" placeholder="Ex: Capitão">';
                cellNome.innerHTML = '<input type="text" name="nome[]" placeholder="Ex: João da Silva">';
                cellFuncao.innerHTML = '<input type="text" name="funcao[]" placeholder="Ex: Comandante da 3ªCIA">';
                cellTelefone.innerHTML = '<input type="text" name="telefone[]" placeholder="Ex: (99) 9999-9999">';
                cellRemover.innerHTML = '<button class="remove-btn">Remover</button>'; // Botão de remover
        
                // Adicionar evento de clique para remover linha
                cellRemover.querySelector('.remove-btn').addEventListener('click', function () {
                    var rowIndex = newRow.rowIndex; // Índice da linha que será removida
        
                    // Remover a linha da tabela
                    table.deleteRow(rowIndex);
        
                    // Atualizar números das linhas restantes
                    for (var i = rowIndex; i < table.rows.length; i++) {
                        table.rows[i].cells[0].textContent = i + 1; // Atualiza o número da linha
                    }
                });
            }
        
            // Adicionar linha inicial ao carregar a página
            adicionarLinhaInicial(); // Adiciona a linha inicial ao carregar a página
        
            // Adicionar evento de clique para adicionar militar
            document.getElementById('addmilitar').addEventListener('click', function () {
                adicionarMilitar();
            });
        
            console.log('Página carregada.'); // Verifica se o evento DOMContentLoaded está ocorrendo
        });
        
        
        
        
        
        
        
        
        
        
        
        // JS DA TABELA DE ATIVIDADES
        // Função para adicionar uma linha na tabela de atividades
        function adicionarAtividade() {
            var table = document.getElementById('atividades-table').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
        
            // Colunas da nova linha
            var cellHorario = newRow.insertCell(0);
            var cellAtividade = newRow.insertCell(1);
            var cellAcoes = newRow.insertCell(2);
        
            // Conteúdo das colunas
            cellHorario.innerHTML = '<input type="text" name="horario" placeholder="Ex: 08:00">';
            cellAtividade.innerHTML = '<input type="text" name="atividade" placeholder="Descrição da atividade">';
            cellAcoes.innerHTML = '<button class="remove-btn">Remover</button>';
        
            // Adicionar evento de clique para remover linha
            cellAcoes.querySelector('.remove-btn').addEventListener('click', function () {
                table.deleteRow(newRow.rowIndex); // Remover a linha da tabela
                // Verificar se há apenas uma linha restante e evitar a remoção se for o caso
                if (table.rows.length === 0) {
                    adicionarAtividade(); // Adicionar uma nova linha se for a última linha removida
                }
            });
        }
        
        // Adicionar evento de clique para adicionar nova atividade
        document.getElementById('add-atividade').addEventListener('click', function () {
            adicionarAtividade();
        });
        
        // Chamar inicialmente a função para adicionar a primeira linha na tabela de atividades
        adicionarAtividade();
        
        
        
        
        
        
        
        
        // JS DA TABELA DA COMITIVA
        // Função para adicionar integrantes à Comitiva
        // Função para adicionar uma linha na tabela da Comitiva
        function adicionarLinhaComitiva() {
            var table = document.getElementById('myTable').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
            var rowCount = table.rows.length;
        
            var cellNumero = newRow.insertCell(0);
            cellNumero.textContent = rowCount;
        
            var cellInput = newRow.insertCell(1);
            cellInput.innerHTML = '<input type="text" name="integrante" placeholder="Ex: Governador">';
        
            var cellAcoes = newRow.insertCell(2);
            cellAcoes.innerHTML = '<button class="remove-btn">Remover</button>';
        
            // Adicionar evento de clique para remover linha
            cellAcoes.querySelector('.remove-btn').addEventListener('click', function () {
                removerLinhaComitiva(newRow); // Passa a linha atual para a função de remover
            });
        }
        
        // Função para remover uma linha da tabela da Comitiva
        function removerLinhaComitiva(row) {
            var table = document.getElementById('myTable').getElementsByTagName('tbody')[0];
            table.deleteRow(row.rowIndex);
        
            // Atualiza os números das linhas restantes
            var rows = table.rows;
            for (var i = 0; i < rows.length; i++) {
                rows[i].cells[0].textContent = i + 1;
            }
        }
        
        // Adicionar evento de clique para o botão de adicionar integrante na Comitiva
        document.getElementById('addIntegrante').addEventListener('click', function () {
            adicionarLinhaComitiva();
        });
        
        // Adicionar linha inicial ao carregar a página para a Comitiva
        document.addEventListener('DOMContentLoaded', function () {
            adicionarLinhaComitiva(); // Adiciona a primeira linha ao carregar a página
        });
        
        
        
        
        
        
        
        //JS PARA OS DADOS DA SEGURANÇA
        // Função para adicionar uma linha na tabela de deslocamentos
        function adicionarDeslocamento() {
            var table = document.getElementById('deslocamentos-table').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
        
            // Colunas da nova linha
            var cellPartida = newRow.insertCell(0);
            var cellDestino = newRow.insertCell(1);
            var cellDistancia = newRow.insertCell(2);
            var cellTempo = newRow.insertCell(3);
            var cellAcoes = newRow.insertCell(4);
        
            // Conteúdo das colunas
            cellPartida.innerHTML = '<input type="text" name="partida" placeholder="Ex: Local de partida">';
            cellDestino.innerHTML = '<input type="text" name="destino" placeholder="Ex: Local de destino">';
            cellDistancia.innerHTML = '<input type="text" name="distancia" placeholder="Ex: 100 km">';
            cellTempo.innerHTML = '<input type="text" name="tempo" placeholder="Ex: 1h 30m">';
            cellAcoes.innerHTML = '<button class="remove-btn">Remover</button>';
        
            // Adicionar evento de clique para remover linha
            cellAcoes.querySelector('.remove-btn').addEventListener('click', function () {
                table.deleteRow(newRow.rowIndex - 1); // Remover a linha da tabela
            });
        }
        
        // Função para adicionar nova linha na tabela ao clicar no botão "Adicionar Deslocamento"
        document.getElementById('add-deslocamento').addEventListener('click', function () {
            adicionarDeslocamento();
        });
        
        // Adicionar linha inicial ao carregar a página
        document.addEventListener('DOMContentLoaded', function () {
            adicionarDeslocamento(); // Adiciona a linha inicial
        });
        
        
        
        
        
        
        
        // JS DA TABELA DE VOOS
        // Função para adicionar uma nova linha à tabela de voo
        function adicionarLinhaVoo() {
            var table = document.getElementById('voo-table').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
        
            var cellDistancia = newRow.insertCell(0);
            cellDistancia.innerHTML = '<input type="text" placeholder="Informe os Municípios">';
        
            var cellTempo = newRow.insertCell(1);
            cellTempo.innerHTML = '<input type="text" placeholder="Informe o tempo de voo">';
        
            var cellAcoes = newRow.insertCell(2);
            cellAcoes.innerHTML = '<button class="remove-btn" onclick="removerLinhaVoo(this)">Remover</button>';
        }
        
        // Função para remover uma linha da tabela de voo
        function removerLinhaVoo(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }
        
        // Adicionar evento de clique para o botão de adicionar voo
        document.getElementById('add-voo').addEventListener('click', function () {
            adicionarLinhaVoo();
        });
        
        
        
        
        
        
        // JS PARA CARREGAR AS FOTOS DO LOCAL DE POUSO
        document.getElementById('uploadForm').addEventListener('submit', function (event) {
            event.preventDefault();
            var formData = new FormData(this);
        
            fetch('/url/para/upload', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    // Limpa a galeria existente
                    document.getElementById('imageGallery').innerHTML = '';
        
                    // Adiciona cada imagem carregada à galeria
                    data.forEach(image => {
                        var imgElement = document.createElement('img');
                        imgElement.src = image.url; // URL da imagem carregada
                        imgElement.alt = image.name; // Nome da imagem para texto alternativo
                        document.getElementById('imageGallery').appendChild(imgElement);
                    });
                })
                .catch(error => {
                    console.error('Erro no upload:', error);
                });
        });
        
        
        
        
        
        
        
        //JS PARA ENVIO DAS FOTOS DO LOCAL DE POUSO
        // scripts.js
        document.getElementById('uploadForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Evita o envio padrão do formulário
        
            // Obtém os arquivos selecionados
            const file1 = document.getElementById('fileInput1').files[0];
            const file2 = document.getElementById('fileInput2').files[0];
            const file3 = document.getElementById('fileInput3').files[0];
        
            // Se houver um arquivo selecionado, carrega a imagem correspondente
            if (file1) {
                previewImage(file1, 'previewImage1');
            }
            if (file2) {
                previewImage(file2, 'previewImage2');
            }
            if (file3) {
                previewImage(file3, 'previewImage3');
            }
        });
        
        function previewImage(file, previewId) {
            const reader = new FileReader();
        
            reader.onload = function (event) {
                const imgElement = document.getElementById(previewId);
                imgElement.src = event.target.result;
            };
        
            reader.readAsDataURL(file);
        }
        
        
        
        
        
        
        
        //JS para adicionar dinamicamente, novos locais de pouso
        document.addEventListener("DOMContentLoaded", function () {
            let pousoCount = 1;
        
            const pousoContainer = document.getElementById('pouso-sections-container');
            const addLocalBtn = document.getElementById('addLocalBtn');
        
            addLocalBtn.addEventListener('click', function () {
                pousoCount++;
                addPousoSection(pousoCount);
            });
        
            function addPousoSection(number) {
                const pousoSection = document.createElement('div');
                pousoSection.className = 'pouso-section';
                pousoSection.setAttribute('data-section-number', number);
        
                pousoSection.innerHTML = `
            <strong>
                <p>DADOS DO LOCAL DO POUSO ${number}: <input type="text" placeholder="Informe o local do pouso"></p>
            </strong>
            <table>
                <thead>
                    <tr>
                        <th>Informações</th>
                        <th>Entradas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Local de Pouso:</td>
                        <td><input type="text" placeholder="Informe o local de pouso"></td>
                    </tr>
                    <tr>
                        <td>Tipo de Piso:</td>
                        <td><input type="text" placeholder="Informe o tipo de piso"></td>
                    </tr>
                    <tr>
                        <td>Isolamento:</td>
                        <td><input type="text" placeholder="Informe se tem isolamento"></td>
                    </tr>
                    <tr>
                        <td>Local Iluminado:</td>
                        <td><input type="text" placeholder="Informe se o local é iluminado"></td>
                    </tr>
                    <tr>
                        <td>Obstáculos:</td>
                        <td><input type="text" placeholder="Informe os obstáculos"></td>
                    </tr>
                    <tr>
                        <td>Local para Abastecimento:</td>
                        <td><input type="text" placeholder="Informe se tem local para abastecimento"></td>
                    </tr>
                    <tr>
                        <td>Responsável pelo Local:</td>
                        <td><input type="text" placeholder="Informe o nome e contato do responsável pelo local"></td>
                    </tr>
                </tbody>
            </table>
        
            <strong>
                <p>COORDENADAS DO LOCAL DE POUSO ${number}: <input type="text" placeholder="Informe o local do pouso"></p>
            </strong>
            <table border="1">
                <tbody>
                    <tr class="red-text">
                        <td style="width: 10%;"><input type="text" style="width: 100%;" placeholder="Digite aqui..."></td>
                        <td style="width: 40%;"><input type="text" style="width: 100%;" placeholder="Informe a latitude"></td>
                        <td style="width: 10%;"><input type="text" style="width: 100%;" placeholder="Digite aqui..."></td>
                        <td style="width: 40%;"><input type="text" style="width: 100%;" placeholder="Informe a longitude"></td>
                    </tr>
                    <tr>
                        <td colspan="4">
                            <input type="text" style="width: 100%;" placeholder="Informe o link da coordenada">
                        </td>
                    </tr>
                </tbody>
            </table>
        
            <strong>
                <p>FOTOGRAFIAS DO LOCAL DO POUSO ${number}:</p>
            </strong>
          <form id="uploadForm${number}" enctype="multipart/form-data">
        <input type="file" id="fileInput${number}_1" name="fileInput" accept="image/*">
        <input type="file" id="fileInput${number}_2" name="fileInput" accept="image/*">
        <input type="file" id="fileInput${number}_3" name="fileInput" accept="image/*">
        <button type="button" class="add-btn">Enviar Fotos</button>
        <div class="image-container">
        <div class="image-preview" id="imagePreview${number}_1"></div>
        <div class="image-preview" id="imagePreview${number}_2"></div>
        <div class="image-preview" id="imagePreview${number}_3"></div>
        </div>
        </form>
        
            <button class="remove-btn">Remover local de pouso</button><br><br>
        `;
        
                pousoContainer.appendChild(pousoSection);
        
                pousoSection.querySelector('.remove-btn').addEventListener('click', function () {
                    pousoContainer.removeChild(pousoSection);
                    reorganizeSections();
                });
        
                const fileInputs = pousoSection.querySelectorAll(`input[type="file"]`);
                fileInputs.forEach(fileInput => {
                    fileInput.addEventListener('change', function () {
                        previewImages(fileInputs, number);
                    });
                });
        
                pousoSection.querySelector('.add-btn').addEventListener('click', function (e) {
                    e.preventDefault();
                });
            }
        
            function previewImages(inputs, number) {
                // Seleciona os contêineres de pré-visualização corretos para o número de seção atual
                const previewContainer1 = document.getElementById(`imagePreview${number}_1`);
                const previewContainer2 = document.getElementById(`imagePreview${number}_2`);
                const previewContainer3 = document.getElementById(`imagePreview${number}_3`);
        
                // Limpa os contêineres de pré-visualização anteriores
                previewContainer1.innerHTML = '';
                previewContainer2.innerHTML = '';
                previewContainer3.innerHTML = '';
        
                // Itera sobre os inputs de arquivo para carregar as imagens
                inputs.forEach(input => {
                    const files = input.files;
                    if (files) {
                        Array.from(files).forEach(file => {
                            const reader = new FileReader();
                            reader.onload = function (e) {
                                const img = document.createElement('img');
                                img.src = e.target.result;
                                img.className = 'preview-image'; // Adiciona a classe para aplicar o estilo CSS
                                img.alt = 'Imagem de pré-visualização';
        
                                // Cria um contêiner de pré-visualização com a mesma estrutura HTML e classe
                                const previewDiv = document.createElement('div');
                                previewDiv.className = 'image-preview'; // Adiciona a classe para aplicar o estilo CSS
                                previewDiv.appendChild(img);
        
                                // Decide onde adicionar a pré-visualização com base no ID do input
                                if (input.id === `fileInput${number}_1`) {
                                    previewContainer1.appendChild(previewDiv);
                                } else if (input.id === `fileInput${number}_2`) {
                                    previewContainer2.appendChild(previewDiv);
                                } else if (input.id === `fileInput${number}_3`) {
                                    previewContainer3.appendChild(previewDiv);
                                }
                            };
                            reader.readAsDataURL(file);
                        });
                    }
                });
            }
        
        
        
        
            //JS para reorganizar a fila do local de pouso
            function reorganizeSections() {
                const sections = pousoContainer.querySelectorAll('.pouso-section');
                sections.forEach((section, index) => {
                    const newIndex = index + 1;
                    section.setAttribute('data-section-number', newIndex);
                    section.querySelector('strong p').innerHTML = `DADOS DO LOCAL DO POUSO ${newIndex}: <input type="text" placeholder="Informe o local do pouso">`;
                    section.querySelectorAll('strong')[1].querySelector('p').innerHTML = `COORDENADAS DO LOCAL DE POUSO ${newIndex}: <input type="text" placeholder="Informe o local do pouso">`;
                    section.querySelectorAll('strong')[2].querySelector('p').innerHTML = `FOTOGRAFIAS DO LOCAL DO POUSO ${newIndex}:`;
                    section.querySelector('form').id = `uploadForm${newIndex}`;
                    const inputs = section.querySelectorAll('input[type="file"]');
                    inputs.forEach((input, fileIndex) => {
                        input.id = `fileInput${newIndex}_${fileIndex + 1}`;
                    });
                    section.querySelector('.image-preview').id = `imagePreview${newIndex}`;
        
                    inputs.forEach(fileInput => {
                        fileInput.addEventListener('change', function () {
                            previewImages(inputs, newIndex);
                        });
                    });
                });
                pousoCount = sections.length;
            }
        });</script>
</body>

</html>

